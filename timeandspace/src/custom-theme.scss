// src/custom-theme.scss – TIME & SPACE CYBERPUNK DREAM UPGRADE (Dec 2025)

@use '@angular/material' as mat;
@include mat.core();

html {
  @include mat.theme((
    color: (
      primary: mat.$azure-palette,
      tertiary: mat.$blue-palette,
    ),
  ));
}

@include mat.all-component-themes(());

// CYBERPUNK OVERRIDES — FULL NEON DREAM MODE
:root {
  --mat-sys-primary: #00ffff;     // pure cyan neon primary
  --mat-sys-tertiary: #ff00ff;    // magenta neon accent
  --mat-sys-error: #ff0066;       // hot pink/red danger
  --mat-sys-surface: #0d001a;     // deeper void black-purple
  --mat-sys-surface-variant: #1a0033;

  --mat-sys-on-surface: #e0ffff !important;
  --mat-sys-on-surface-variant: #a0ffff !important;
}

// Dark cyberpunk city background (rainy neon streets feel)
body {
  color-scheme: dark;
  background: 
    linear-gradient(rgba(13, 0, 26, 0.8), rgba(13, 0, 26, 0.8)),
    url('https://images.stockcake.com/public/d/0/2/d0254079-6ad6-49cb-920b-31cfeaaea875_large/neon-rain-city-stockcake.jpg') center/cover fixed;
  margin: 0;
  min-height: 100vh;
  font-family: "Rajdhani", sans-serif !important;
  letter-spacing: 1px;
}

// Holographic glass cards with scan lines
mat-card {
  background: rgba(13, 0, 26, 0.6) !important;
  backdrop-filter: blur(20px) brightness(1.2);
  border: 1px solid #00ffff !important;
  box-shadow: 0 0 30px rgba(0, 255, 255, 0.5), inset 0 0 20px rgba(0, 255, 255, 0.2);
  position: relative;
  overflow: hidden;
  border-radius: 16px !important;
  transition: all 0.4s ease;
}

mat-card:hover {
  transform: translateY(-8px);
  box-shadow: 0 0 50px rgba(0, 255, 255, 0.8);
}

// Scan line overlay (classic cyberpunk effect)
mat-card::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  background: repeating-linear-gradient(0deg, rgba(0,255,255,0.05), rgba(0,255,255,0.05) 1px, transparent 1px, transparent 2px);
  pointer-events: none;
  animation: scan 8s linear infinite;
}

@keyframes scan {
  0% { transform: translateY(-100%); }
  100% { transform: translateY(100%); }
}

// Neon glow on buttons + hover pulse
button[mat-raised-button],
button[mat-button] {
  text-transform: uppercase;
  letter-spacing: 2px;
  box-shadow: 0 0 15px currentColor;
  transition: all 0.3s ease;
}

button[mat-raised-button]:hover,
button[mat-button]:hover {
  transform: translateY(-4px) scale(1.05);
  box-shadow: 0 0 40px currentColor;
  animation: pulse 1.5s infinite;
}

@keyframes pulse {
  0% { box-shadow: 0 0 15px currentColor; }
  50% { box-shadow: 0 0 30px currentColor; }
  100% { box-shadow: 0 0 15px currentColor; }
}

// clean text class
.space-text {
  color: #e0ffff !important;
  font-family: 'Rajdhani', sans-serif;
  letter-spacing: 1px;
  line-height: 1.6;
  text-shadow: 0 0 8px rgba(0, 255, 255, 0.4);
}

/* CYBERPUNK GLITCH TEXT ON HOVER — subtle but intense */
.glitch-hover {
  position: relative;
  color: #e0e7ff;
  font-family: 'Orbitron', sans-serif;
  letter-spacing: 2px;
  text-transform: uppercase;
  cursor: pointer;
  
  &::before,
  &::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    transition: opacity 0.3s;
  }
  
  &::before {
    color: #00e5ffff;
    left: 2px;
    text-shadow: -2px 0 #ff00ff;
    clip-path: polygon(0 0, 100% 0, 100% 45%, 0 45%);
    transform: translate(-2px, -2px);
  }
  
  &::after {
    color: #ff00ff;
    left: -2px;
    text-shadow: 2px 0 #00e5ffff;
    clip-path: polygon(0 60%, 100% 60%, 100% 100%, 0 100%);
    transform: translate(2px, 2px);
  }
  
  &:hover::before,
  &:hover::after {
    opacity: 1;
    animation: glitch-anim 0.8s infinite;
  }
  
  &:hover {
    animation: glitch-text 0.6s infinite;
  }
}

@keyframes glitch-anim {
  0%, 100% { transform: translate(0); }
  20% { transform: translate(-3px, 3px); }
  40% { transform: translate(3px, -3px); }
  60% { transform: translate(-2px, -2px); }
  80% { transform: translate(2px, 2px); }
}

@keyframes glitch-text {
  0%, 100% { text-shadow: 0 0 10px #00e5ffff; }
  50% { text-shadow: 0 0 20px #ff00ff, 0 0 30px #00e5ffff; }
}

/* TRUE FALLING DIGITAL RAIN — Matrix-style cyan code rain */
body::after {
  content: '';
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  pointer-events: none;
  background: 
    repeating-linear-gradient(
      to bottom,
      transparent 0%,
      transparent 40%,
      rgba(0, 255, 255, 0.05) 45%,
      rgba(0, 255, 255, 0.15) 50%,
      rgba(0, 255, 255, 0.05) 55%,
      transparent 60%,
      transparent 100%
    ),
    repeating-linear-gradient(
      to bottom,
      transparent 0%,
      transparent 60%,
      rgba(0, 255, 255, 0.03) 65%,
      rgba(0, 255, 255, 0.1) 70%,
      transparent 75%,
      transparent 100%
    );
  background-size: 100% 100px, 100% 150px;
  background-position: 0 0, 0 0;
  animation: falling-rain 20s linear infinite;
  opacity: 0.5;
  z-index: -1;
  mix-blend-mode: screen;
}

@keyframes falling-rain {
  0% { background-position: 0 0, 0 0; }
  100% { background-position: 0 100px, 0 150px; }
}

/* NEON GLOW ON ACTIVE ENTRY */
.mat-expansion-panel.mat-expanded {
  border: 2px solid #00e5ffff !important;
  box-shadow: 0 0 30px rgba(0, 229, 255, 0.6) !important;
  background: rgba(20, 24, 36, 0.9) !important;
  transition: all 0.4s ease;
}

/* Extra glow on header when open */
.mat-expansion-panel-header.mat-expanded {
  background: linear-gradient(to right, transparent, rgba(0, 229, 255, 0.1)) !important;
}

/* SUBTLE NEON DOT CURSOR — minimal glow */
body, * {
  cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><circle cx="10" cy="10" r="4" fill="%2300e5ff" opacity="0.8"/></svg>') 10 10, auto !important;
}